<Window x:Class="WhatAmIHearing.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:WhatAmIHearing"
        xmlns:ui="clr-namespace:ZemotoUI"
        mc:Ignorable="d"
        WindowStartupLocation="CenterScreen"
        Title="What Am I Hearing?"
        Height="200"
        Width="400">
   <Window.DataContext>
      <local:MainViewModel />
   </Window.DataContext>
   <Window.Resources>
      <ResourceDictionary>
         <ResourceDictionary.MergedDictionaries>
            <ResourceDictionary Source="ControlStyles.xaml" />
         </ResourceDictionary.MergedDictionaries>

         <ui:BoolVisibilityConverter x:Key="VisibleIfFalse"
                                     Invert="True" />
      </ResourceDictionary>
   </Window.Resources>

   <Grid>
      <Grid.RowDefinitions>
         <RowDefinition Height="*" />
         <RowDefinition Height="Auto" />
      </Grid.RowDefinitions>
      <ComboBox Grid.Row="0"
                ItemsSource="{Binding DeviceList, Mode=OneWay}"
                SelectedValue="{Binding SelectedDevice, Mode=TwoWay}"
                SelectedIndex="0"
                DisplayMemberPath="FriendlyName"
                Width="300"
                Height="24">
         <ComboBox.ItemContainerStyle>
            <Style TargetType="ComboBoxItem">
               <Setter Property="Width"
                       Value="300" />
            </Style>
         </ComboBox.ItemContainerStyle>
      </ComboBox>

      <Grid Grid.Row="1"
            HorizontalAlignment="Center"
            Margin="8">
         <Grid.Effect>
            <DropShadowEffect BlurRadius="4"
                              Direction="270"
                              ShadowDepth="1" />
         </Grid.Effect>
         <Button Style="{StaticResource PlayStopButtonStyle}"
                 Command="{Binding StopCommand}">
            <Path Fill="White"
                  Stretch="UniformToFill">
               <Path.Data>
                  <PathGeometry Figures="M 0,0 L 0,1 1,1 1,0 Z" />
               </Path.Data>
            </Path>
         </Button>
         <Button Style="{StaticResource PlayStopButtonStyle}"
                 Command="{Binding RecordCommand}"
                 Visibility="{Binding Recording, Converter={StaticResource VisibleIfFalse}}">
            <Path Fill="White"
                  Stretch="UniformToFill">
               <Path.Data>
                  <PathGeometry Figures="M 0,0 V 2 L 2,1 Z" />
               </Path.Data>
            </Path>
         </Button>
      </Grid>
   </Grid>
</Window>
